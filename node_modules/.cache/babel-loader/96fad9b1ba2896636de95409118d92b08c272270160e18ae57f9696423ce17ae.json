{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import NewsItem from\"./NewsItem\";import Spinner from\"./spinner\";import InfiniteScroll from\"react-infinite-scroll-component\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const News=props=>{const capitalizeFirstLetter=string=>{return string.charAt(0).toUpperCase()+string.slice(1);};const[articles,setArticles]=useState([]);const[loading,setLoading]=useState(true);const[page,setPage]=useState(1);const[totalResults,setTotalResults]=useState(0);const updateNews=async()=>{const url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=\").concat(props.apiKey,\"&page=\").concat(page,\"&pageSize=\").concat(props.pageSize);props.setProgress(10);setLoading(true);let data=await fetch(url);props.setProgress(30);let parsedData=await data.json();props.setProgress(70);setArticles(parsedData.articles);setTotalResults(parsedData.totalResults);setLoading(false);props.setProgress(100);};useEffect(()=>{document.title=\"\".concat(capitalizeFirstLetter(props.category),\" - Lion's news\");updateNews();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const fetchMoreData=async()=>{const url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=\").concat(props.apiKey,\"&page=\").concat(page+1,\"&pageSize=\").concat(props.pageSize);setPage(page+1);let data=await fetch(url);let parsedData=await data.json();setArticles(articles.concat(parsedData.articles));setTotalResults(parsedData.totalResults);setLoading(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",style:{marginTop:\"100px\"},children:[\"Lion`s News - Top \",capitalizeFirstLetter(props.category),\" Headline\"]}),loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:articles.length,next:fetchMoreData,hasMore:articles.length!==totalResults,loader:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:articles.map((element,el)=>{return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title:\"\",description:element.description?element.description:\"\",imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},el);})})})})]});};News.defaultProps={country:\"in\",pageSize:8,category:\"general\"};export default News;","map":{"version":3,"names":["React","useState","useEffect","NewsItem","Spinner","InfiniteScroll","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","News","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","articles","setArticles","loading","setLoading","page","setPage","totalResults","setTotalResults","updateNews","url","concat","country","category","apiKey","pageSize","setProgress","data","fetch","parsedData","json","document","title","fetchMoreData","children","className","style","marginTop","dataLength","length","next","hasMore","loader","map","element","el","description","imageUrl","urlToImage","newsUrl","author","date","publishedAt","source","name","defaultProps"],"sources":["E:/My project/newsapp/newsapp-master/src/component/News.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Spinner from \"./spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nconst News = (props) => {\n  const capitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalResults, setTotalResults] = useState(0);\n\n  const updateNews = async () => {\n    const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&page=${page}&pageSize=${props.pageSize}`;\n    props.setProgress(10);\n\n    setLoading(true);\n    let data = await fetch(url);\n    props.setProgress(30);\n    let parsedData = await data.json();\n    props.setProgress(70);\n\n    setArticles(parsedData.articles);\n    setTotalResults(parsedData.totalResults);\n    setLoading(false);\n    props.setProgress(100);\n  };\n\n  useEffect(() => {\n    document.title = `${capitalizeFirstLetter(props.category)} - Lion's news`;\n    updateNews();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const fetchMoreData = async () => {\n    const url = `https://newsapi.org/v2/top-headlines?country=${\n      props.country\n    }&category=${props.category}&apiKey=${props.apiKey}&page=${\n      page + 1\n    }&pageSize=${props.pageSize}`;\n    setPage(page + 1);\n    let data = await fetch(url);\n    let parsedData = await data.json();\n\n    setArticles(articles.concat(parsedData.articles));\n    setTotalResults(parsedData.totalResults);\n    setLoading(false);\n  };\n\n  return (\n    <>\n      <h1 className=\"text-center\" style={{ marginTop: \"100px\" }}>\n        Lion`s News - Top {capitalizeFirstLetter(props.category)} Headline\n      </h1>\n\n      {loading && <Spinner />}\n      <InfiniteScroll\n        dataLength={articles.length}\n        next={fetchMoreData}\n        hasMore={articles.length !== totalResults}\n        loader={<Spinner />}\n      >\n        <div className=\"container\">\n          <div className=\"row\">\n            {articles.map((element, el) => {\n              return (\n                <div className=\"col-md-3\" key={el}>\n                  <NewsItem\n                    title={element.title ? element.title : \"\"}\n                    description={element.description ? element.description : \"\"}\n                    imageUrl={element.urlToImage}\n                    newsUrl={element.url}\n                    author={element.author}\n                    date={element.publishedAt}\n                    source={element.source.name}\n                  />\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </InfiniteScroll>\n    </>\n  );\n};\n\nNews.defaultProps = {\n  country: \"in\",\n  pageSize: 8,\n  category: \"general\",\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string,\n};\n\nexport default News;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}