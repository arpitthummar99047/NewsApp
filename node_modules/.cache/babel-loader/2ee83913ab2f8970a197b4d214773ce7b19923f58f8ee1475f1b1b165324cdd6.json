{"ast":null,"code":"import _regeneratorRuntime from\"E:/My project/newsapp/newsapp-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/My project/newsapp/newsapp-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/My project/newsapp/newsapp-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import NewsItem from\"./NewsItem\";import Spinner from\"./spinner\";import InfiniteScroll from\"react-infinite-scroll-component\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var News=function News(props){var capitalizeFirstLetter=function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1);};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalResults=_useState8[0],setTotalResults=_useState8[1];var updateNews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=\").concat(props.apiKey,\"&page=\").concat(page,\"&pageSize=\").concat(props.pageSize);props.setProgress(10);setLoading(true);_context.next=5;return fetch(url);case 5:data=_context.sent;props.setProgress(30);_context.next=9;return data.json();case 9:parsedData=_context.sent;props.setProgress(70);setArticles(parsedData.articles);setTotalResults(parsedData.totalResults);setLoading(false);props.setProgress(100);case 15:case\"end\":return _context.stop();}},_callee);}));return function updateNews(){return _ref.apply(this,arguments);};}();useEffect(function(){document.title=\"\".concat(capitalizeFirstLetter(props.category),\" - Lion's news\");updateNews();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var fetchMoreData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=\").concat(props.apiKey,\"&page=\").concat(page+1,\"&pageSize=\").concat(props.pageSize);setPage(page+1);_context2.next=4;return fetch(url);case 4:data=_context2.sent;_context2.next=7;return data.json();case 7:parsedData=_context2.sent;setArticles(articles.concat(parsedData.articles));setTotalResults(parsedData.totalResults);setLoading(false);case 11:case\"end\":return _context2.stop();}},_callee2);}));return function fetchMoreData(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",style:{marginTop:\"100px\"},children:[\"Lion`s News - Top \",capitalizeFirstLetter(props.category),\" Headline\"]}),loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:articles.length,next:fetchMoreData,hasMore:articles.length!==totalResults,loader:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:articles.map(function(element,el){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title:\"\",description:element.description?element.description:\"\",imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},el);})})})})]});};News.defaultProps={country:\"in\",pageSize:8,category:\"general\"};export default News;","map":{"version":3,"names":["React","useState","useEffect","NewsItem","Spinner","InfiniteScroll","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","News","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","_useState","_useState2","_slicedToArray","articles","setArticles","_useState3","_useState4","loading","setLoading","_useState5","_useState6","page","setPage","_useState7","_useState8","totalResults","setTotalResults","updateNews","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","data","parsedData","wrap","_callee$","_context","prev","next","concat","country","category","apiKey","pageSize","setProgress","fetch","sent","json","stop","apply","arguments","document","title","fetchMoreData","_ref2","_callee2","_callee2$","_context2","children","className","style","marginTop","dataLength","length","hasMore","loader","map","element","el","description","imageUrl","urlToImage","newsUrl","author","date","publishedAt","source","name","defaultProps"],"sources":["E:/My project/newsapp/newsapp-master/src/component/News.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Spinner from \"./spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nconst News = (props) => {\n  const capitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalResults, setTotalResults] = useState(0);\n\n  const updateNews = async () => {\n    const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&page=${page}&pageSize=${props.pageSize}`;\n    props.setProgress(10);\n\n    setLoading(true);\n    let data = await fetch(url);\n    props.setProgress(30);\n    let parsedData = await data.json();\n    props.setProgress(70);\n\n    setArticles(parsedData.articles);\n    setTotalResults(parsedData.totalResults);\n    setLoading(false);\n    props.setProgress(100);\n  };\n\n  useEffect(() => {\n    document.title = `${capitalizeFirstLetter(props.category)} - Lion's news`;\n    updateNews();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const fetchMoreData = async () => {\n    const url = `https://newsapi.org/v2/top-headlines?country=${\n      props.country\n    }&category=${props.category}&apiKey=${props.apiKey}&page=${\n      page + 1\n    }&pageSize=${props.pageSize}`;\n    setPage(page + 1);\n    let data = await fetch(url);\n    let parsedData = await data.json();\n\n    setArticles(articles.concat(parsedData.articles));\n    setTotalResults(parsedData.totalResults);\n    setLoading(false);\n  };\n\n  return (\n    <>\n      <h1 className=\"text-center\" style={{ marginTop: \"100px\" }}>\n        Lion`s News - Top {capitalizeFirstLetter(props.category)} Headline\n      </h1>\n\n      {loading && <Spinner />}\n      <InfiniteScroll\n        dataLength={articles.length}\n        next={fetchMoreData}\n        hasMore={articles.length !== totalResults}\n        loader={<Spinner />}\n      >\n        <div className=\"container\">\n          <div className=\"row\">\n            {articles.map((element, el) => {\n              return (\n                <div className=\"col-md-3\" key={el}>\n                  <NewsItem\n                    title={element.title ? element.title : \"\"}\n                    description={element.description ? element.description : \"\"}\n                    imageUrl={element.urlToImage}\n                    newsUrl={element.url}\n                    author={element.author}\n                    date={element.publishedAt}\n                    source={element.source.name}\n                  />\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </InfiniteScroll>\n    </>\n  );\n};\n\nNews.defaultProps = {\n  country: \"in\",\n  pageSize: 8,\n  category: \"general\",\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string,\n};\n\nexport default News;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}